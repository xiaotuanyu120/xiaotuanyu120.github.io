<!DOCTYPE html>
<html lang="zh-cmn">

<head>
    <title>XTY Blog | Linux Ops Docs | SRE | DEVOPS</title>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1" name="viewport"/>
    <link rel="stylesheet" href="/static/css/chroma.css">
    <link rel="stylesheet" href="/static/css/main.css">
</head>

<div class="blog-title">
	<div class="container">
		<div class="row">
			<div class="col-lg-12">
				<div>
					<a class="main-title" href="/">XTY的小站</a>
                </div>
                <div>
                    <a class="small-title" href="/">记录技术笔记和技术博客</a>
                </div>
			</div>
		</div>
	</div>
</div>

<body>
  <div class="container">

    <div class="col-lg-4 col-lg-offset-1 col-md-4 col-md-offset-1 col-sm-4 col-sm-offset-1">
	  <div id="sidebar">

		<h3>最新文章</h3>
          <ul>

            <li>
              <a href="/leetcode/binary_tree/easy_94_binary_tree_inorder_traversal.html">94. Binary Tree Inorder Traversal</a>
            </li>
            <li>
              <a href="/leetcode/binary_tree/binary_tree.html">Binary Tree</a>
            </li>
            <li>
              <a href="/leetcode/linked_list/easy_21_merge_two_sorted_list.html">21. Merge Two Sorted List</a>
            </li>
            <li>
              <a href="/leetcode/linked_list/easy_206_reverse_linked_list.html">206. Reverse Linked List</a>
            </li>
            <li>
              <a href="/leetcode/linked_list/easy_141_linked_list_cycle.html">141. Linked List Cycle</a>
            </li>
          </ul>

		<h3>文章分类</h3>
		  <ul>

            <li>
              <a href="/android/index.html">android</a>
            </li>
            <li>
              <a href="/bigdata/index.html">bigdata</a>
            </li>
            <li>
              <a href="/blockchain/index.html">blockchain</a>
            </li>
            <li>
              <a href="/blog/index.html">blog</a>
            </li>
            <li>
              <a href="/cloud/index.html">cloud</a>
            </li>
            <li>
              <a href="/leetcode/index.html">leetcode</a>
            </li>
            <li>
              <a href="/cryptography/index.html">cryptography</a>
            </li>
            <li>
              <a href="/database/index.html">database</a>
            </li>
            <li>
              <a href="/devops/index.html">devops</a>
            </li>
            <li>
              <a href="/go/index.html">go</a>
            </li>
            <li>
              <a href="/ios/index.html">ios</a>
            </li>
            <li>
              <a href="/java/index.html">java</a>
            </li>
            <li>
              <a href="/linux/index.html">linux</a>
            </li>
            <li>
              <a href="/python/index.html">python</a>
              <ul>
                <li>
                  <a href="/python/advance/index.html">advance</a>
                </li>
                <li>
                  <a href="/python/basic/index.html">basic</a>
                  <ul>
                    <li><a href="/python/basic/01-简介.html">Python简介</a></li>
                    <li><a href="/python/basic/02-pip安装和编程热身.html">pip安装和编程热身</a></li>
                    <li><a href="/python/basic/03-基础(变量_操作符).html">基础(变量&操作符)</a></li>
                    <li><a href="/python/basic/04-01-数据结构_1(list_tuple).html">数据结构: list&tuple</a></li>
                    <li><a href="/python/basic/04-02-数据结构_2(set_dict).html">数据结构: set&dict</a></li>
                    <li><a href="/python/basic/05-01-函数1.html">函数1</a></li>
                    <li><a href="/python/basic/05-02-函数2.html">函数2</a></li>
                    <li><a href="/python/basic/05-03-函数3.html">函数3</a></li>
                    <li><a href="/python/basic/05-04-函数总结.html">函数总结</a></li>
                    <li><a href="/python/basic/06-01-模块1.html">模块1</a></li>
                    <li><a href="/python/basic/06-02-模块2.html">模块2</a></li>
                    <li><a href="/python/basic/07-IDE使用-调试.html">IDE使用-调试</a></li>
                    <li><a href="/python/basic/08-习题讲解收获_输入输出.html">输入输出</a></li>
                    <li><a href="/python/basic/09-01-面向对象编程1.html">面向对象编程1</a></li>
                    <li><a href="/python/basic/09-02-面向对象编程2.html">面向对象编程2</a></li>
                    <li><a href="/python/basic/10-异常.html">异常</a></li>
                    <li><a href="/python/basic/12-fabric.html">fabric</a></li>
                    <li><a href="/python/basic/13-01-网络编程.html">网络编程</a></li>
                    <li><a href="/python/basic/13-02-网络编程作业.html">网络编程作业</a></li>
                    <li><a href="/python/basic/14-xml_html.html">xml&html</a></li>
                    <li><a href="/python/basic/16-web.html">web</a></li>
                    <li><a href="/python/basic/17-python_web.html">django</a></li>
                    <li><a href="/python/basic/30-python-sorted.html">python sorted函数</a></li>
                    <li><a href="/python/basic/31-threading基础实例.html">threading基础实例</a></li>
                  </ul>
                </li>
                <li>
                  <a href="/python/codefights/index.html">codefights</a>
                </li>
                <li>
                  <a href="/python/django/index.html">django</a>
                </li>
                <li>
                  <a href="/python/flask/index.html">flask</a>
                </li>
                <li>
                  <a href="/python/fluent_py/index.html">fluent_py</a>
                </li>
                <li>
                  <a href="/python/py_tour/index.html">py_tour</a>
                </li>
              </ul>
            </li>
            <li>
              <a href="/service/index.html">service</a>
            </li>
            <li>
              <a href="/virtualization/index.html">virtualization</a>
            </li>
            <li>
              <a href="/web/index.html">web</a>
            </li>
          </ul>

      </div>
    </div>

    <div class="col-lg-7 col-md-7 col-sm-7">
      <h2>pip安装和编程热身</h2>
      <div>
        <hr style="border: 0; border-top: 1px dashed #a2a9b6">
      </div>
      <div class="postDate">
        <p>25 Jul 2015</p>
      </div>
      <div>
        <hr style="border: 0; border-bottom: 1px dashed #a2a9b6">
      </div>
<h2>0. 上节课习题</h2>

<p>题目: 批量创建目录</p>

<p>我的解答</p>
<pre class="chroma"><span class="ch">#!/usr/bin/python</span>
<span class="c1"># Filename: exam01.py</span>
<span class="sa"></span><span class="s1">&#39;&#39;&#39;</span><span class="s1">for auto create folder, and check results.</span><span class="s1">
</span><span class="s1"></span><span class="s1">&#39;&#39;&#39;</span>
<span class="kn">import</span> <span class="nn">os</span>


<span class="n">depts</span><span class="o">=</span><span class="p">[</span><span class="sa"></span><span class="s1">&#39;</span><span class="s1">SALES</span><span class="s1">&#39;</span><span class="p">,</span><span class="sa"></span><span class="s1">&#39;</span><span class="s1">PURCHASE</span><span class="s1">&#39;</span><span class="p">,</span><span class="sa"></span><span class="s1">&#39;</span><span class="s1">ADMIN</span><span class="s1">&#39;</span><span class="p">,</span><span class="sa"></span><span class="s1">&#39;</span><span class="s1">PRODUCTION</span><span class="s1">&#39;</span><span class="p">,</span><span class="sa"></span><span class="s1">&#39;</span><span class="s1">ACCOUNT</span><span class="s1">&#39;</span><span class="p">]</span>


<span class="k">for</span> <span class="n">dept</span> <span class="ow">in</span> <span class="n">depts</span><span class="p">:</span>
    <span class="n">delete</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="sa"></span><span class="s1">&#39;</span><span class="s1">rm -rf /tmp/python/</span><span class="si">%s</span><span class="s1">&#39;</span><span class="o">%</span><span class="n">dept</span><span class="p">)</span>
    <span class="n">result</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">popen</span><span class="p">(</span><span class="sa"></span><span class="s1">&#39;</span><span class="s1">mkdir /tmp/python/</span><span class="si">%s</span><span class="s1">&#39;</span><span class="o">%</span><span class="n">dept</span><span class="p">)</span>
    <span class="c1"># 这里是错误的，因为result是一个文档目录，a为空</span>
    <span class="n">a</span><span class="o">=</span><span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">dept</span> <span class="ow">in</span> <span class="n">a</span><span class="p">:</span>             
        <span class="k">print</span> <span class="sa"></span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1"> create success</span><span class="s1">&#39;</span><span class="o">%</span><span class="n">dept</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">print</span> <span class="sa"></span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1"> create failed</span><span class="s1">&#39;</span><span class="o">%</span><span class="n">dept</span>
</pre>
<blockquote>
<p>上面是不合适的方式，是shell的思维方式</p>
</blockquote>

<p>老师的解答</p>
<pre class="chroma"><span class="c1"># coding:utf-8</span>

<span class="kn">import</span> <span class="nn">os</span>


<span class="n">depts</span><span class="o">=</span><span class="p">[</span><span class="sa"></span><span class="s2">&#34;</span><span class="s2">人事部</span><span class="s2">&#34;</span><span class="p">,</span><span class="sa"></span><span class="s2">&#34;</span><span class="s2">销售部</span><span class="s2">&#34;</span><span class="p">,</span><span class="sa"></span><span class="s2">&#34;</span><span class="s2">技术部</span><span class="s2">&#34;</span><span class="p">]</span>


<span class="k">for</span> <span class="n">dept</span> <span class="ow">in</span> <span class="n">depts</span><span class="p">:</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">os</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">dept</span><span class="p">)</span>
<span class="k">except</span> <span class="ne">OSError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="k">print</span> <span class="sa"></span><span class="s1">&#39;</span><span class="s1">文件【s</span><span class="s1">%</span><span class="s1">】创建失败，原因【s</span><span class="s1">%</span><span class="s1">】</span><span class="s1">&#39;</span> <span class="o">%</span><span class="p">(</span><span class="n">dept</span><span class="p">,</span><span class="n">e</span><span class="o">.</span><span class="n">strerror</span><span class="p">)</span>
</pre>
<p>不同点：</p>

<ol>
<li><code># coding:utf-8</code>指定中文编码</li>
<li>直接使用<code>os.mkdir()</code>函数，让函数和系统打交道而不是自己写shell命令</li>
<li><code>try：+ except *** as ***</code> 来截取尝试操作的异常输出</li>
</ol>

<h2>1. 安装部署python服务器</h2>

<ul>
<li>python主程序：python</li>
<li>python开发工具包：python-devel</li>
<li>包管理工具：pip</li>
<li>增强版shell：ipython</li>
</ul>

<blockquote>
<p>PS：python多版本共存的问题，可使用virtualenv来解决</p>
</blockquote>

<h2>2. python包管理器</h2>

<h3>2.1 pip</h3>

<p><strong>安装pip</strong></p>
<pre class="chroma">wget https://bootstrap.pypa.io/get-pip.py
python get-pip.py
</pre>
<blockquote>
<ul>
<li>pip如果用get-pip.py的形式装，会根据python环境安装相应版本，如果需要安装固定版本的pip，可以源码安装。</li>
<li>easy_install也是一个包管理器，不过更推荐pip</li>
</ul>
</blockquote>

<h3>2.2 wheel后缀.whl比.egg更先进</h3>

<p>Wheels are the new standard of python distribution and are intended to replace eggs.</p>

<p>wheels是一个用来替代eggs的python发行版的新标准。</p>

<h3>2.3 如何进行包隔离，隔离的Python运行环境</h3>
<pre class="chroma">yum install python-virtualenv python-virtualenvwrapper
pip install virtualenv  virtualenv-wrapper
yum install python-virtualenv
</pre>
<h2>3. 增强版shell</h2>
<pre class="chroma"><span class="c1"># Bpython</span>
pip install bpython

<span class="c1"># ipython</span>
pip install ipython
</pre>
<h2>4. 编程热身</h2>

<h3>4.1 &ldquo;import this&rdquo;命令输出的python之禅</h3>
<pre class="chroma">&gt;&gt;&gt; import this
The Zen of Python, by Tim Peters

Beautiful is better than ugly.
Explicit is better than implicit.
Simple is better than complex.
Complex is better than complicated.
Flat is better than nested.
Sparse is better than dense.
Readability counts.
Special cases aren&#39;t special enough to break the rules.
Although practicality beats purity.
Errors should never pass silently.
Unless explicitly silenced.
In the face of ambiguity, refuse the temptation to guess.
There should be one-- and preferably only one --obvious way to do it.
Although that way may not be obvious at first unless you&#39;re Dutch.
Now is better than never.
Although never is often better than *right* now.
If the implementation is hard to explain, it&#39;s a bad idea.
If the implementation is easy to explain, it may be a good idea.
Namespaces are one honking great idea -- let&#39;s do more of those!
</pre>
    </div>

  </div>
</body>

<footer>
    <div class="container">
        <div class="row footer-links">
            <div class="col-lg-2 col-sm-2">
                <h3>友情链接</h3>
                <ul>
                    <li><a href="">友链位招租</a></li>
                    <li><a href="">友链位招租</a></li>
                </ul>
            </div>
            <div class="col-lg-2 col-sm-2">
                <h3>没想好</h3>
                <ul>
                    <li><a href="">我爸没想好</a></li>
                    <li><a href="">我哥说我爸没想好</a></li>
                </ul>
            </div>
            <div class="col-lg-2 col-sm-2">
                <h3>Hooray</h3>
                <ul>
                    <li><a href="">Hooray</a></li>
                    <li><a href="">What are we Hooray For?</a></li>
                </ul>
            </div>
            <div class="col-lg-2 col-sm-2">
                <h3>前面的footer太浪了</h3>
                <ul>
                    <li><a href="">就是就是</a></li>
                    <li><a href="">偷偷的表示羡慕</a></li>
                </ul>
            </div>
            <div class="col-lg-4 col-sm-4">
                <h3>网站信息</h3>
                <a class="" href="" target="_blank"></a>
                <a class="" href="" target="_blank"></a>
                <a class="" href="" target="_blank"></a>
                <a class="" href="" target="_blank"></a>
                <div class="fine-print">
                    <p>网战由以下技术支撑</p>
                    <ul>
                        <li>Markdown Processor: <a href="https://github.com/russross/blackfriday/tree/v2">Blackfriday V2</a></li>
                        <li>Renderer Engine: <a href="https://github.com/Depado/bfchroma/">bfchroma</a></li>
                        <li>Syntax Highlighter: <a href="https://github.com/alecthomas/chroma">Chroma</a></li>
                        <li>Coding Language: <a href="https://go.dev/">Golang</a></li>
                        <li>Others: Markdown, HTML, CSS</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</footer>

</html>