<!DOCTYPE html>
<html lang="zh-cmn">

<head>
    <title>XTY Blog | Linux Ops Docs | SRE | DEVOPS</title>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1" name="viewport"/>
    <link rel="stylesheet" href="/static/css/chroma.css">
    <link rel="stylesheet" href="/static/css/main.css">
</head>

<div class="blog-title">
	<div class="container">
		<div class="row">
			<div class="col-lg-12">
				<div>
					<a class="main-title" href="/">XTY的小站</a>
                </div>
                <div>
                    <a class="small-title" href="/">记录技术笔记和技术博客</a>
                </div>
			</div>
		</div>
	</div>
</div>

<body>
  <div class="container">

    <div class="col-lg-4 col-lg-offset-1 col-md-4 col-md-offset-1 col-sm-4 col-sm-offset-1">
	  <div id="sidebar">

		<h3>最新文章</h3>
          <ul>

            <li>
              <a href="/linux/advance/fd_01_file_descriptor_brief_introduction.html">fd: 文件描述符简明介绍</a>
            </li>
            <li>
              <a href="/service/haproxy/haproxy_01_config_log.html">haproxy: 配置和日志</a>
            </li>
            <li>
              <a href="/service/haproxy/haproxy_00_start_up_with_docker_compose.html">haproxy: 使用docker-compose启动haproxy</a>
            </li>
            <li>
              <a href="/service/apache/1.1.3_apache_config_make_servername_and_serveralias_an_ip.html">apache 配置: 可以把ServerName和ServerAlias配置为IP吗？</a>
            </li>
            <li>
              <a href="/linux/advance/performance_01_io_limit.html">performance: 限制进程的IO消耗</a>
            </li>
          </ul>

		<h3>文章分类</h3>
		  <ul>

            <li>
              <a href="/android/index.html">android</a>
            </li>
            <li>
              <a href="/bigdata/index.html">bigdata</a>
            </li>
            <li>
              <a href="/blockchain/index.html">blockchain</a>
            </li>
            <li>
              <a href="/blog/index.html">blog</a>
            </li>
            <li>
              <a href="/cloud/index.html">cloud</a>
            </li>
            <li>
              <a href="/cryptography/index.html">cryptography</a>
            </li>
            <li>
              <a href="/database/index.html">database</a>
            </li>
            <li>
              <a href="/devops/index.html">devops</a>
            </li>
            <li>
              <a href="/go/index.html">go</a>
            </li>
            <li>
              <a href="/ios/index.html">ios</a>
            </li>
            <li>
              <a href="/java/index.html">java</a>
            </li>
            <li>
              <a href="/linux/index.html">linux</a>
            </li>
            <li>
              <a href="/python/index.html">python</a>
            </li>
            <li>
              <a href="/service/index.html">service</a>
            </li>
            <li>
              <a href="/virtualization/index.html">virtualization</a>
              <ul>
                <li>
                  <a href="/virtualization/container/index.html">container</a>
                </li>
                <li>
                  <a href="/virtualization/docker/index.html">docker</a>
                  <ul>
                    <li><a href="/virtualization/docker/docker-compose_2.1.0_network.html">docker-compose 2.1.0 network</a></li>
                    <li><a href="/virtualization/docker/docker-compose_2.1.0_network_container_name_vs_hostname_vs_service_name.html">docker-compose 2.1.1 network: container_name vs hostname vs service name</a></li>
                    <li><a href="/virtualization/docker/docker-compose_2.2.0_resource_limit.html">docker-compose 2.2.0 resource limit without swarm</a></li>
                    <li><a href="/virtualization/docker/docker_1.1.0.1_installation_mac.html">1.1.0.1 install docker on mac</a></li>
                    <li><a href="/virtualization/docker/docker_1.1.0_installation_centos7.html">1.1.0 安装(Centos7)</a></li>
                    <li><a href="/virtualization/docker/docker_1.1.1_installation_binary.html">1.1.1 二进制文件安装(Centos7)</a></li>
                    <li><a href="/virtualization/docker/docker_1.1.2_custom_bridge_to_docker.html">1.1.2 为docker创建docker0以外的网桥</a></li>
                    <li><a href="/virtualization/docker/docker_1.2.0_basic_command.html">1.2.0 基础命令</a></li>
                    <li><a href="/virtualization/docker/docker_2.1.1_image_search_pull.html">2.1.1 镜像-查找与下载镜像</a></li>
                    <li><a href="/virtualization/docker/docker_2.1.2_image_info_manage.html">2.1.2 镜像-镜像信息的查看与管理</a></li>
                    <li><a href="/virtualization/docker/docker_2.1.3_image_delete.html">2.1.3 镜像-镜像的删除</a></li>
                    <li><a href="/virtualization/docker/docker_2.1.4_image_import_outport.html">2.1.4 镜像-镜像的导入和导出</a></li>
                    <li><a href="/virtualization/docker/docker_2.1.5_image_docker_hub.html">2.1.5 镜像-镜像的上传</a></li>
                    <li><a href="/virtualization/docker/docker_2.1.6_image_build.html">2.1.6 镜像-build 镜像</a></li>
                    <li><a href="/virtualization/docker/docker_2.2.1_Dockerfile.html">1.2.1 Dockerfile</a></li>
                    <li><a href="/virtualization/docker/docker_2.2.2_Dockerfile_date_timezone.html">1.2.2 docker容器时间不准解决方案</a></li>
                    <li><a href="/virtualization/docker/docker_2.2.3_Dockerfile_entrypoint.html">2.2.3 Dockerfile entrypoint with script</a></li>
                    <li><a href="/virtualization/docker/docker_2.2.4_Dockerfile_msttcorefonts_installation.html">1.2.4 docker容器安装microsoft truetype 字体</a></li>
                    <li><a href="/virtualization/docker/docker_2.2.5_Dockerfile_example.html">1.2.5 dockerfile 示例</a></li>
                    <li><a href="/virtualization/docker/docker_2.2.6_Dockerfile_healthcheck.html">2.2.6 Dockerfile healthcheck</a></li>
                    <li><a href="/virtualization/docker/docker_2.2.6_Dockerfile_multiple_stage_build_golang.html">2.2.7 Containerfile multiple stage build and run golang</a></li>
                    <li><a href="/virtualization/docker/docker_3.1.0_example_nginx.html">3.1.0 docker封装nginx服务</a></li>
                    <li><a href="/virtualization/docker/docker_3.2.0_example_tomcat_standlone_arg_v.html">3.2.0 tomcat使用-v参数挂载本地代码和日志目录</a></li>
                    <li><a href="/virtualization/docker/docker_3.3.0_example_static_file.html">3.3.0 docker nginx with multiple sites</a></li>
                    <li><a href="/virtualization/docker/docker_3.4.0_example_error_alphine_java_not_found.html">3.4.0 alpine oracle java no such file or directory error</a></li>
                    <li><a href="/virtualization/docker/docker_4.0.0_local_registry.html">4.0.0 docker 本地registry</a></li>
                    <li><a href="/virtualization/docker/docker_4.0.1_local_registry-operation-tutorial.html">4.0.1 docker 本地registry 使用说明</a></li>
                    <li><a href="/virtualization/docker/docker_4.0.2_local_registry-error-push-always-retrying.html">4.0.2 docker 本地registry push时一直retrying</a></li>
                    <li><a href="/virtualization/docker/docker_4.1.0_gitlab.html">4.1.0 在docker中运行gitlab ce</a></li>
                    <li><a href="/virtualization/docker/docker_5.2.0_network_iptables.html">5.2.0 网络：docker中的iptables</a></li>
                    <li><a href="/virtualization/docker/docker_knowledge_1.1.0_security.html">docker 理论漫谈 1.1.0 docker存在的安全问题（浅谈）</a></li>
                  </ul>
                </li>
                <li>
                  <a href="/virtualization/kvm/index.html">kvm</a>
                </li>
                <li>
                  <a href="/virtualization/openstack/index.html">openstack</a>
                </li>
              </ul>
            </li>
            <li>
              <a href="/web/index.html">web</a>
            </li>
          </ul>

      </div>
    </div>

    <div class="col-lg-7 col-md-7 col-sm-7">
      <h2>5.2.0 网络：docker中的iptables</h2>
      <div>
        <hr style="border: 0; border-top: 1px dashed #a2a9b6">
      </div>
      <div class="postDate">
        <p>12 Nov 2019</p>
      </div>
      <div>
        <hr style="border: 0; border-bottom: 1px dashed #a2a9b6">
      </div>
<h3>0. 问题背景</h3>

<p>启动了一个tomcat的docker容器，将其端口映射到宿主机的80端口上</p>
<pre class="chroma">docker run -itd --rm -p 80:8080 --name tomcat tomcat:jdk8
</pre>
<p>然后按照我们的生产惯例，需要对80端口做防火墙限制，于是按照经验，增加了下面这条规则</p>
<pre class="chroma">iptables -A INPUT -s 172.16.0.0/24 -p tcp -m tcp --dport 80 -j ACCEPT
iptables -A INPUT -j REJECT --reject-with icmp-host-prohibited
</pre>
<blockquote>
<p>允许172.16.0.0/24的来源ip访问80端口，禁止其他来源ip对任何ip的访问</p>
</blockquote>

<p>结果奇怪的事情发生了，经过测试，刚才设想的规则竟然没有生效，任何来源ip都可以访问80端口。于是觉得自己应该详细研究一下iptables和docker之间到底发生了什么了。</p>

<h3>1. docker and iptables</h3>

<p>先来研究一下docker和iptables的关系，首先，在开始之前，请先阅读以下两个文档</p>

<ul>
<li><a href="http://ipset.netfilter.org/iptables.man.html">iptables-manual</a></li>
<li><a href="https://docs.docker.com/network/iptables/">docker and iptables</a></li>
</ul>

<p>iptables本身，最有价值的是一张图，关于这个图，大家可以搜索iptables关键字，然后查看图片，就会有很多，在这里不赘述。里面重点如下</p>

<ol>
<li>iptables比较重要的几个表：raw，nat，filter，mangle</li>
<li>每个表里面有很多链，有默认链，也可以增加自定义链</li>
<li>一个tcp包到达后，并不是走完一个表的所有链然后再去走另外一个包里面的所有链，而是根据链的顺序来走，详细可以参照你查到的iptables图片</li>
</ol>

<p>大概先说一下docker官方文档里面讲的iptables相关内容</p>

<ol>
<li>docker会把iptables规则写到DOCKER链里面</li>
<li>如果需要增加自己的规则，请写到DOCKER-USER链中</li>
<li>默认docker是会自动管理iptables规则，我们可以选择关闭它，然后手动管理（如果你手动管理了，那真是脑子有问题了）</li>
</ol>

<h3>2. 实际分析</h3>

<p>理论看完了，那么咱们来实际分析问题，既然docker官方推荐咱们使用DOCKER-USER链，那咱们试试写入如下规则</p>
<pre class="chroma"><span class="c1"># 咱们先drop所有的80的包看见效果</span>
iptables -I DOCKER-USER -t tcp -m tcp --dport <span class="m">80</span> -j DROP
</pre>
<p>结果让我大跌眼镜，WHAT？我竟然还可以访问？为啥子来？</p>

<p>冷静，冷静，首先先看看现在的iptables规则</p>
<pre class="chroma">iptables-save
<span class="c1"># 输出了两部分</span>
<span class="c1"># 第一部分，nat表，部分内容如下</span>
*nat
:PREROUTING ACCEPT <span class="o">[</span>0:0<span class="o">]</span>
:INPUT ACCEPT <span class="o">[</span>0:0<span class="o">]</span>
:OUTPUT ACCEPT <span class="o">[</span>4:296<span class="o">]</span>
:POSTROUTING ACCEPT <span class="o">[</span>4:296<span class="o">]</span>
:DOCKER - <span class="o">[</span>0:0<span class="o">]</span>
-A PREROUTING -m addrtype --dst-type LOCAL -j DOCKER
-A OUTPUT ! -d 127.0.0.0/8 -m addrtype --dst-type LOCAL -j DOCKER
-A POSTROUTING -s 172.28.0.0/16 ! -o br-0be676646756 -j MASQUERADE
-A POSTROUTING -s 172.17.0.0/16 ! -o docker0 -j MASQUERADE
-A POSTROUTING -s 172.17.0.2/32 -d 172.17.0.2/32 -p tcp -m tcp --dport <span class="m">8080</span> -j MASQUERADE
-A DOCKER -i br-0be676646756 -j RETURN
-A DOCKER -i docker0 -j RETURN
-A DOCKER ! -i docker0 -p tcp -m tcp --dport <span class="m">80</span> -j DNAT --to-destination 172.17.0.2:8080
COMMIT
<span class="c1"># Completed on Tue Nov 12 06:12:30 2019</span>

<span class="c1"># 第二部分，filter表，这部分内容不重要，可以忽略，只要关注上面的nat表内容即可</span>
*filter
:INPUT ACCEPT <span class="o">[</span>69:4048<span class="o">]</span>
:FORWARD DROP <span class="o">[</span>0:0<span class="o">]</span>
:OUTPUT ACCEPT <span class="o">[</span>37:2916<span class="o">]</span>
:DOCKER - <span class="o">[</span>0:0<span class="o">]</span>
:DOCKER-ISOLATION-STAGE-1 - <span class="o">[</span>0:0<span class="o">]</span>
:DOCKER-ISOLATION-STAGE-2 - <span class="o">[</span>0:0<span class="o">]</span>
:DOCKER-USER - <span class="o">[</span>0:0<span class="o">]</span>
......
COMMIT
<span class="c1"># Completed on Tue Nov 12 06:12:30 2019</span>
</pre>
<p>发现问题了，WTF，原来在nat表里面的链PREROUTING，将所有LOCAL类型的都转给了nat中的DOCKER链</p>
<pre class="chroma">iptables -I DOCKER-USER -p tcp -m tcp --dport 80 -j DROP
</pre>
<p>然后在nat表的DOCKER链中，对来源ip进行了nat转换，变成了<code>容器ip:8080</code></p>
<pre class="chroma">-A DOCKER ! -i docker0 -p tcp -m tcp --dport 80 -j DNAT --to-destination 172.17.0.2:8080
</pre>
<p>那么问题就好理解了，因为当包到达INPUT表中的DOCKER-USER链时，它已经不是访问80端口了，已经是8080了，我们对80做的限制，当然是无效的。</p>

<p>汗，既然找到了原因，那么再来分析一下我们的需求</p>

<ul>
<li>开放程序给部分ip</li>
<li>禁止其他所有的来源ip对该程序的访问</li>
</ul>

<p>这样的话，我们可以增加以下规则（提前先清除掉之前增加的所有自定义规则）</p>
<pre class="chroma">iptables -I DOCKER-USER -p tcp -j DROP
iptables -I DOCKER-USER -s 172.16.0.0/24 -p tcp -m tcp --dport <span class="m">8080</span> -j ACCEPT
</pre>
<p>然后事实再一次打脸，WTF，白名单内的我竟然无法访问了。汗，仔细看了以下，原来我这样的设置，是禁调了很多docker默认的容器间的、容器和宿主机网桥的网络规则。</p>

<p>如果要修复这个问题，我们可以配置好各个容器网卡之间的访问规则，然后再配置容器网卡和宿主机网桥之间的规则（事实上我们现在就是这样干的）。但是这样有个问题，容器网卡的名称，都是随机的啊亲，难道每一次创建虚拟网卡后都来改一遍规则吗？</p>

<p>那么我还有一个办法，我手动创建容器网络，给它们指定网段，到时候开通规则直接网段间允许所有不就可以啦，美滋滋。</p>

<p>但是冷静了5s之后，我还是觉得有点不对劲。再过了5s思考之后，我知道了不对劲的原因，这样一点都不完美啊，docker自动创建的规则和自定义的规则包括网络的设置交叉在一起，逻辑一点不清晰。难道就不能有更好的解决方案吗？</p>

<h3>3. 最终方案</h3>

<p>经过思考之后，发现，其实在input表里面的DOCKER-USER链中做规则限制，已经进入了容器的访问阶段了，既然在这个阶段设定规则如此复杂，那么如果在它的前一个阶段来配置自定义规则呢？</p>

<p>在nat表中，我们增加以下规则</p>
<pre class="chroma"><span class="c1"># 在表nat中创建新的链DOCKER-FILTER</span>
iptables -t nat -N DOCKER-FILTER

<span class="c1"># 将所有LOCAL流量导到nat表中的DOCKER-FILTER链中，未转发到nat表中DOCKER链的tcp包，执行nat表的默认策略：ACCEPT</span>
<span class="c1"># ！！！下面RETURN 这里是个坑，见后面的大坑说明！！！）</span>
iptables -t nat -I PREROUTING -m addrtype --dst-type LOCAL -j RETURN <span class="c1"># 当我们在一个内置的链中使用了RETURN，那么，默认的策略会应用到这个包上，PREROUTING默认的策略是ACCEPT，不过不用担心，因为只要它不去DOCKER链，依然是无法访问程序的（！！！这里是个坑，见后面的大坑说明！！！）</span>
<span class="c1"># ！！！上面RETURN 这里是个坑，见后面的大坑说明！！！）</span>
iptables -t nat -I PREROUTING -m addrtype --dst-type LOCAL -j DOCKER-FILTER
</pre>
<p>这样的话，nat表中的流量变成了PREROUTING -&gt; DOCKER-FILTER -&gt; 执行nat表的默认策略：ACCEPT</p>

<p>然后，我们再将自己允许的规则写入</p>
<pre class="chroma">iptables -t nat -A DOCKER-FILTER -p tcp -m tcp --dport <span class="m">80</span> -m state --state NEW,ESTABLISHED -j DOCKER
</pre>
<p>这样的话，nat表中的允许的流量变成了PREROUTING -&gt; DOCKER-FILTER -&gt; DOCKER，nat表中禁止的流量变成了PREROUTING -&gt; DOCKER-FILTER -&gt; 执行nat表的默认策略：ACCEPT。</p>

<h3>4. 最终方案补充 - 大坑说明</h3>

<h4>a. 遇到的大坑描述</h4>

<p>后来在生产环境中实施上面3里面说到的最终方案，发现一个奇怪的问题，详细描述如下：</p>

<p>背景是启动了一个nginx容器，映射容器端口80到宿主机的80端口</p>
<pre class="chroma">docker run -itd -p 80:80 --name nginx nginx:latest
</pre>
<p>首先，我按照3里面说到的最终方案，创建默认禁止全部的规则</p>
<pre class="chroma"><span class="c1"># 在表nat中创建新的链DOCKER-FILTER</span>
iptables -t nat -N DOCKER-FILTER

<span class="c1"># 将所有LOCAL流量导到nat表中的DOCKER-FILTER链中，未转发到nat表中DOCKER链的tcp包，执行nat表的默认策略：ACCEPT</span>
iptables -t nat -I PREROUTING -m addrtype --dst-type LOCAL -j RETURN
iptables -t nat -I PREROUTING -m addrtype --dst-type LOCAL -j DOCKER-FILTER
</pre>
<p>然后我发现，在我增加允许访问80端口的白名单之前，我竟然可以不受任何限制的访问nginx镜像。蛤，按照3里面的说明，而且我在测试环境测试过，不应该发生这种情况啊？</p>

<h4>b. 现状分析</h4>

<p>首先合理的猜测，我3里面的理论，在理论上是没问题的，确实tcp包，在iptables里面的nat表是按照这个流程走的，PREROUTING -&gt; DOCKER-FILTER -&gt; 执行nat表的默认策略：ACCEPT。</p>

<p><strong>关键是后面，tcp包在nat表中的ACCEPT之后，去了哪里？</strong></p>

<p>按照iptables的知识，走完PREROUING链后，后面是路由判断去INPUT还是FORWARD，因为在经过nat表中的DOCKER链进行DNAT之前，就已经被ACCEPT，所以在路由判断的时候，tcp包的目的地没有改变，依然是宿主机的ip，所以应该进入的是filter表的INPUT链。</p>

<h4>c. 理性分析后发现真相（其实是瞎几把猜，外加疯狂google）</h4>

<p>理论分析到现在，遇到一个理论和实际冲突，因为按照我的理解，在我的规划中docker端口转发的逻辑应该是这样的：</p>

<ul>
<li>客户对宿主机的端口发起请求 &gt; iptables(nat:PREROUTING:DOCKER-FILTER -&gt; nat:DOCKER-FILTER:DOCKER -&gt; nat:DOCKER:DNAT -&gt; filter:FORWARD:ACCEPT) &gt; docker0(docker网桥设备) &gt; vethxxxxx(容器网卡对中绑定在网桥上的虚拟网卡) &gt; eth0(容器网卡对中在容器中的虚拟网卡)
&gt; nat:PREROUTING:DOCKER-FILTER这个我自己瞎编的格式含义是，iptables表:表中的链:应用的target</li>
</ul>

<p><strong>难道还有其他访问的逻辑？。。。。。。还真有，首先，我上面说明的那条逻辑没问题，在其基础上，实际情况下还有另外一条逻辑：</strong></p>

<ul>
<li>客户对宿主机的端口发起请求 &gt; iptables(nat:PREROUTING:DOCKER-FILTER -&gt; nat:DOCKER-FILTER:ACCEPT -&gt; filter:INPUT:ACCEPT) &gt; docker-proxy(本地用户空间中的端口转发进程) &gt; docker0(docker网桥设备) &gt; vethxxxxx(容器网卡对中绑定在网桥上的虚拟网卡) &gt; eth0(容器网卡对中在容器中的虚拟网卡)</li>
</ul>

<p><strong>重点：docker目前依然使用&ndash;userland-proxy=true选项作为默认项，开启docker-proxy进程，来转发端口转发的流量，这就是我没有想到的另外一条逻辑</strong></p>
<pre class="chroma">root      <span class="m">5619</span>  0.0  1.3 <span class="m">218448</span> <span class="m">13208</span> ?        Sl   07:58   0:00 /usr/bin/docker-proxy -proto tcp -host-ip 0.0.0.0 -host-port <span class="m">80</span> -container-ip 172.17.0.2 -container-port <span class="m">80</span>
</pre>
<p>先不追究docker这么设计的原因，先回归主题，按照之前的分析，tcp封包到了filter表中的INPUT链，这个链的默认策略是ACCEPT，也就是说，如果我没有设定任何INPUT的规则，那么即使我采用了3里面的规划，也是可以访问到容器服务的(而在3的测试环境中，在INPUT链中最后一条是禁止INPUT所有tcp包的流量的规则，所以我误以为3的方案是正确的，从而丧失了发现第二条逻辑的一个机会)。</p>

<h4>d. 最终方案补充</h4>

<p><strong>最终方案补充：在3的基础上，INPUT那边限制掉所有ip到容器端口转发中宿主机端口的流量。</strong></p>

<p>此时，我们的逻辑如下</p>

<ul>
<li>允许的流量变成了nat:PREROUTING -&gt; nat:DOCKER-FILTER -&gt; nat:DOCKER:DNAT -&gt; filter:FORWARD:ACCEPT</li>
<li>禁止的流量变成了nat:PREROUTING -&gt; nat:DOCKER-FILTER -&gt; nat:ACCEPT -&gt; filter:INPUT:DROP</li>
</ul>

<blockquote>
<p>docker-proxy浅谈
在<a href="https://github.com/moby/moby/issues/14856">docker-proxy 默认禁用选项 &ndash;userland-proxy的issue: #14856</a>中，其实我感觉docker团队的目标是舍弃掉docker-proxy的，目前只是鉴于issue：14856引发的<a href="https://github.com/moby/moby/issues/5618">issue: #5618 内核错误</a>，并且虽然<a href="https://github.com/moby/moby/issues/5618#issuecomment-532623814">torvalds的fix</a>解决了内核问题，但是这个需要较高的版本（4.19.30），所以docker团队迄今为止并没有完成issue：14856的目标（在你阅读的时候，你可以去看一下issue：14856最新的进度）。</p>

<p>参考链接</p>

<ul>
<li><a href="https://learnku.com/articles/25018">docker端口转发浅谈 - 这是我大量查询资料后，第一次接近真相的引子</a></li>
<li><a href="https://github.com/moby/moby/issues/14856">docker-proxy 默认禁用选项 &ndash;userland-proxy的issue</a></li>
<li><a href="https://windsock.io/the-docker-proxy/">理解docker-proxy存在现状及其意义的一篇英文博客</a></li>
<li><a href="https://www.jianshu.com/p/91002d316185">理解docker-proxy存在现状及其意义的另外一篇中文博客</a></li>
</ul>
</blockquote>

    </div>

  </div>
</body>

<footer>
    <div class="container">
        <div class="row footer-links">
            <div class="col-lg-2 col-sm-2">
                <h3>友情链接</h3>
                <ul>
                    <li><a href="">友链位招租</a></li>
                    <li><a href="">友链位招租</a></li>
                </ul>
            </div>
            <div class="col-lg-2 col-sm-2">
                <h3>没想好</h3>
                <ul>
                    <li><a href="">我爸没想好</a></li>
                    <li><a href="">我哥说我爸没想好</a></li>
                </ul>
            </div>
            <div class="col-lg-2 col-sm-2">
                <h3>Hooray</h3>
                <ul>
                    <li><a href="">Hooray</a></li>
                    <li><a href="">What are we Hooray For?</a></li>
                </ul>
            </div>
            <div class="col-lg-2 col-sm-2">
                <h3>前面的footer太浪了</h3>
                <ul>
                    <li><a href="">就是就是</a></li>
                    <li><a href="">偷偷的表示羡慕</a></li>
                </ul>
            </div>
            <div class="col-lg-4 col-sm-4">
                <h3>网站信息</h3>
                <a class="" href="" target="_blank"></a>
                <a class="" href="" target="_blank"></a>
                <a class="" href="" target="_blank"></a>
                <a class="" href="" target="_blank"></a>
                <div class="fine-print">
                    <p>网战由以下技术支撑</p>
                    <ul>
                        <li>Markdown Processor: <a href="https://github.com/russross/blackfriday/tree/v2">Blackfriday V2</a></li>
                        <li>Renderer Engine: <a href="https://github.com/Depado/bfchroma/">bfchroma</a></li>
                        <li>Syntax Highlighter: <a href="https://github.com/alecthomas/chroma">Chroma</a></li>
                        <li>Coding Language: <a href="https://go.dev/">Golang</a></li>
                        <li>Others: Markdown, HTML, CSS</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</footer>

</html>